var Page;(function(n){let t;(function(n){function i(){registerPageOnSize();window.bt_decode=r;Shotgun.Js.Communication.Html5PostMessage.takeWhatData({action:function(){$(".btn-warning").trigger("click")},el:$("[name=source]")});var n=$("[name=srcType]")[0];n.options.add(new Option("Hex/Base64"));$("[name=srcType]")[0];const t=document.getElementById("output");_editor=CodeMirror(t,{mode:"text/html",lineNumbers:!0,lineWrapping:!0,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"]});_editor.on("cursorActivity",u);const i=document.getElementsByClassName("nav-tabs")[0];tab_active(0,i)}function r(n){var o=n.form,u,i,e,r,f;if(u=o.src.value.replace(/^\s*-.+$/mg,""),String.isNullOrEmpty(u.trim())){Toast($Localizer.pubGet('"{0}" is required',"ASN.1 Source"));return}try{try{i=Shotgun.Js.Library.parseHex(u)}catch(h){i=Shotgun.Js.Base64.decode(u)}}catch(e){Toast($Localizer.pubGet('Source encoding must be "{0}"',"HEX or Base64"));return}e=new MemoryStream(i);r=null;try{r=Shotgun.Js.Security.ASN1.parse(e)}catch(s){r=null;t(i,String.format("FAIL:{0}",s))}if(r==null){Toast($Localizer.libGet("asn1","ASN.1 decoding fail! Unsupported or invalid data"));return}f=Shotgun.Js.Security.ASN1.toXmlString(r,0);_editor.setValue(f);t(i,f)}function t(n,t){var i=String.format("{0}\n----\n{1}",Shotgun.Js.Base64.encode(n),t);trackBack("asn1_decode",!1,i)}function u(n){var t,i,r,f;let u=n.getCursor();if((t=n.getTokenAt(u),i=t.state,i.context!=null&&!t.type)&&(r=i.context,["BIT_STRING","OCTET_STRING"].indexOf(r.tagName)!=-1)){return;const e=Shotgun.Js.Library.parseHex(f)}}n.init=i})(t=n.Asn1||(n.Asn1={}))})(Page||(Page={})),function(n){let t;(function(n){function u(n){window.doit=r;window.srcFormat_onchange=h;window.encoding_onchange=s;window.result_onchange=l;registerPageOnSize();i=n;Shotgun.Js.Communication.Html5PostMessage.takeWhatData({action:function(){r(!1)},el:$("[name=source]")})}function r(n){var i,r,u,s,h,l;$(".tipReulst").alert("close");i=$("[name='source']")[0].getValue();r="";Baidu===null||Baidu===void 0?void 0:Baidu.Tongji.eventTrack({category:"base64",action:n?"Encode":"Decode"});try{if(n){s=t.encode;s=t.srcFormat===1?255:s;switch(s){case 0:u=Shotgun.Js.Charsets.toUtf8Bytes(i);break;case 1:u=Shotgun.Js.Charsets.toUnicodeBytes(i);break;case 2:u=Shotgun.Js.Charsets.toGB2312Bytes(i);break;case 255:u=Shotgun.Js.Library.parseHex(i);break;default:alert($Localizer.pubGet("Unknow Encoding:{0}",t.encode.toString()));return}if(u===null)return;r=Shotgun.Js.Base64.encode(u);i=i.replace(/(^\s+)|(\s+$)/g,"");h=/^(http|https|ftp):\/\/\S{5,}$/i;h.test(i)&&(r=String.format("{0}\n------------------\n{1}\n\n{2}\n------------------\n{3}",$Localizer.libGet("base64","base64 standard code:"),r,$Localizer.libGet("base64","base64 encoding download address:"),e(i)))}else h=/^\s*(flashget|thunder|qqdl):\/\/(.{5,})\s*$/i,l=h.exec(i),l!=null?(r=String.format("{0}\n------------------\n{1}",$Localizer.libGet("base64","The original URL:"),f(l[1],l[2])),Toast($Localizer.libGet("base64","Non-standard base64 decoding success"))):r=o(i)}catch(a){Toast(a.message);console.error(a)}$("#output").val(r);c(n,n?$("[name='source']").val():r)}function f(n,t){var u=Shotgun.Js.Base64.decode(decodeURI(t)),e,i,r,f;e=Shotgun.Js.Charsets.isUtf8(u)?Shotgun.Js.Charsets.fromUtf8Bytes(u):Shotgun.Js.Charsets.fromGBKBytes(u);i=null;switch(n.toLowerCase()){case"thunder":r=$Localizer.pubGet("Thunder");i=/^AA(.+?)ZZ/;break;case"flashget":r=$Localizer.pubGet("FlashGet");i=/^\[FLASHGET\](.+?)\[\/FLASHGET\]/;break;case"qqdl":r=r=$Localizer.pubGet("QQ Download");i=/^(.+?)$/}if(f=i.exec(e),f==null)throw{message:$Localizer.libGet("base64","Wrong url for the {0}!",r)};return f[1]}function e(n){var t=Shotgun.Js.Charsets.toUtf8Bytes("AA".concat(n,"ZZ")),i=String.format("{0}: thunder://{1}",$Localizer.pubGet("Thunder"),Shotgun.Js.Base64.encode(t));return t=Shotgun.Js.Charsets.toUtf8Bytes("[FLASHGET]".concat(n,"[/FLASHGET]")),i+=String.format("\n{0}: flashget://{1}",$Localizer.pubGet("FlashGet"),Shotgun.Js.Base64.encode(t)),t=Shotgun.Js.Charsets.toUtf8Bytes(n),i+String.format("\n{0}: qqdl://{1}",$Localizer.pubGet("QQ Download"),Shotgun.Js.Base64.encode(t))}function o(n){var i=Shotgun.Js.Base64.decode(n),r="",e;if(t.display===0)return i===null||i.length===0?"":(r=Shotgun.Js.Charsets.bytesToString(i,t.encode),e=String.fromCharCode(0),r.indexOf(e)!==-1&&(Toast($Localizer.libGet("base64","Decoding results do not appear to be text")),r=r.replace(/\x00/g,"?")),r);if(t.display!==255)return bytesToHex(i,{withAscii:t.display==2});var o=WhatIsIt.itIs(i),u=WhatIsIt.formatResult(o,i),f=Shotgun.Ui.Bootstrap.createAlert("success",!0);return f.addClass("tipReulst"),f.append(u.htmlResult),$("#output").parent().append(f),u.formatted&&$(".formatted > .glyphicon-question-sign").tooltip(),u.text}function s(n,i){t.encode=parseInt(i)}function h(n,i){t.srcFormat=parseInt(i);var r=$Localizer.libGet("base64","Enter data to be Base64 encoded or decoded");i==="1"&&(r=$Localizer.libGet("base64","Enter THE HEX data to be encoded"));$("[name=source]").attr("placeholder",r)}function c(n,t){var r="b64_".concat(n?"en":"de");debugLog(i,r,t)}function l(n,i){t.display=parseInt(i)}var t={encode:0,display:255,srcFormat:0},i;n.init=u})(t=n.Base64||(n.Base64={}))}(Page||(Page={})),function(n){let t;(function(n){function e(){registerPageOnSize();$("#"+CRYPTO).addClass("active");var n=$("[name=outType]")[0];n.options.length=0;Shotgun.Js.Encoding.Factory.settings={extrnEncoding:"hex-ascii",smartEncoding:{textOnly:!1}};Shotgun.Js.Encoding.PageFactory.fillDst("crypto",$("[name=outType]")[0])}function y(){e();window.keypair_onchage=v;window.rsaCrypt_onclick=at;window.mode_onclick=yt;$(function(){$("[data-toggle='tooltip']").tooltip()})}function p(){e();window.keypair_onchage=v;window[`${CRYPTO}_onclick`]=vt}function w(){e();window.keysize_onchange=it;window.mode_onchange=k;window.crypt_onclick=f;ct(CRYPTO);lt(CRYPTO);CRYPTO=="sm4"&&$("#key").attr("maxlength",16);ht()}function b(n,t){var e=n.src,r=null,i=0,u,f;if(n.srcType==="base64")r=checkBase64;else if(n.srcType==="hex")r=checkHex;else if(t.encrypt&&n.padding!="none"){if(t.maxSize)return(i=e.length,i>t.maxSize)?(Toast($Localizer.libGet("cryptography","Maximum length: {0}, exceeded {1}",t.maxSize,i-t.maxSize),8),!1):!0}else r=function(){return nt(n,t)};try{i=r(e)}catch(o){return Toast(o.message),!1}if(t.times&&i%t.times!=0)u=i.toString(),i>t.times&&(f=i%t.times,u=`${i-f}+${f}`),Toast($Localizer.libGet("cryptography","Must be a multiple of {1}, currently {2} bytes({0}). ",n.srcType,t.times,u),8);else if(t.maxSize&&i>t.maxSize)Toast($Localizer.libGet("cryptography","Maximum length: {0}, exceeded {1}",t.maxSize,i-t.maxSize),8);else return!0;return!1}function o(n){var u,t,f,e,r,i;return!n||n.style.display==="none"?!0:(u=$(n).attr("placeholder"),n.value==="")?(Toast($Localizer.pubGet('"{0}" is required',u)),n.focus(),!1):n.tagName!=="INPUT"||n.type!=="number"?!0:(t=parseInt(n.value),isNaN(t))?(Toast($Localizer.pubGet('Invalid value for "{0}"',u)),!1):(f=parseInt($(n).attr("min")),e=parseInt($(n).attr("max")),r=parseInt($(n).attr("step")),i=null,!isNaN(f)&&t<f?i=$Localizer.pubGet("Minimum:{0}",f):!isNaN(e)&&t>e?i=$Localizer.pubGet("Maximum:{0}",e):!isNaN(r)&&t%r>0&&(i=$Localizer.libGet("cryptography","Must be a multiple of: {0}, such as {1}",r,Math.floor(t/r)*8)),i===null)?!0:(Toast("“"+u+"”"+i),!1)}function k(n){var r=$(n.options[n.selectedIndex]),i=r.data("request"),t=n.form.IV;t.style.display=i.indexOf("iv")===-1?"none":"";t=n.form.blockSize;t.style.display=i.indexOf("bs")===-1?"none":""}function d(n){var i=n.blockSize,t=0;return i&&i.style.display!=="none"?t=Math.floor(parseInt(i.value)/8)*8:CRYPTO==="aes"?t=128:(CRYPTO==="des"||CRYPTO==="tripledes")&&(t=64),isNaN(t)&&t>8?0:t/8}function f(n,t){var i,r,f,e,h;if($(".tipReulst").alert("close"),i=n.form,r=$(i).serializeObject(),String.isNullOrEmpty(r.src)){Toast($Localizer.pubGet("No Content!"));i.src.focus();return}if(t.encrypt&&r.padding!="none"||t.times||["des","tripledes","aes","sm4"].indexOf(CRYPTO)!==-1&&(t.times=d(i)),t.maxSize=1048576,b(r,t)){if(f=null,e=g(r,t.encrypt),!e){f=i.outType;Toast($Localizer.pubGet("Unknow Encoding:{0}",r.outType));f.focus();return}if(u++,!o(i.key)||!o(i.IV)||!o(i.blockSize)){u>3&&$("#output").val("检测到你有多次因参错设置问题无法进行加密/解密。\n这是否因平台的参数限制引起的？\n如果是，请将此问题反馈给我们，邮箱在页脚。\n\n\t\t\t The X\n\t\t"+(new Date).toLocaleString());return}u=0;r.outType="base64";s(!1);h=t.encrypt?"encrypt":"decrypt";$.ajax({method:"post",cache:!0,data:r,dataType:"json",url:$(i).attr("action").concat("?method=",h),complete:function(){var n=setTimeout(function(){s(!0);clearTimeout(n)},1e3)},success:function(n){i.output.value=n.result?tt(n.result,e,t.encrypt):"";n.status!==1?alert(n.msg):Baidu===null||Baidu===void 0?void 0:Baidu.Tongji.eventTrack({category:CRYPTO,action:h})}})}}function g(n,t){var i=Shotgun.Js.Encoding.Factory.getCharset(n.outType),r;return t?i.isSpecial&&i.name!="smart"?i:(r=n.srcType=="hex"?"hex-16":"base64",Shotgun.Js.Encoding.Factory.getCharset(r)):i}function nt(n,t){var i,u;if(r=n.srcType,r=="base64")return checkBase64(n.src);if(r=="hex")return i=Shotgun.Js.Library.parseHex(n.src),n.src=Shotgun.Js.Base64.encode(i),n.srcType="base64",i.length;if(t.encrypt)return u=Shotgun.Js.Encoding.Factory.getCharset(n.srcType),u.getBytes(n.src).length;try{i=Shotgun.Js.Library.parseHex(n.src);r="hex"}catch(f){try{i=Shotgun.Js.Base64.decode(n.src);r="base64"}catch(f){throw{message:$Localizer.libGet("cryptography","Support decryption of Base64/HEX data")};}}return n.src=Shotgun.Js.Base64.encode(i),n.srcType="base64",i.length}function tt(n,t,i){var u,f,e,o,r;return t.name=="base64"&&!i?n:(u=Shotgun.Js.Base64.decode(n),i)?(f=$Localizer.libGet("cryptography","Encrypted result encoding:{0}",t.name),r={htmlResult:f,text:t.getString(u),formatted:!1},WhatIsIt.showExtraResult(r).text):(e=t.getString(u),t.name!="smart")?e:(o=t,r=o.smartResult,WhatIsIt.showExtraResult(r),i||debugLog(C_LOG_URL,CRYPTO.concat("_de"),r.text),r.text)}function s(n){$("[type=button]").attr("disabled",!n)}function it(n,t){$("[name=key]").attr("maxlength",t.bytes)}function h(n){n.onblur=c;$(n).on("focus",et);$(n).on("keyup",ft)}function c(){t=setTimeout(function(){(clearTimeout(t),t=null,$(".tips > textarea").hasClass("red"))||$(".tips").css("display","none")},100)}function rt(n){i!==null&&clearTimeout(i);i=setTimeout(function(){n.className=/[^a-f0-9\s]/i.test(n.value)?"red":"";clearTimeout(i);i=null},500)}function ut(n){var t=n.value;if(t=t.replace(/[0-9a-f\s]/ig,""),t!==""){t.length>10&&(t=t.substring(0,10));Toast($Localizer.pubGet("Invalid character:{0}",t));return}t=(n.value=l(n.value)).replace(/\s/g,"");var r=t.length/2,u=$(n).data("control"),i=$("#"+u),f=parseInt(i.attr("maxlength"));f<r||(r===0?i.val(""):i.val("[HEX]:"+t))}function ft(n){var t=n.target.value,i=$(".tips > textarea"),r,u;if(i.val(""),t.indexOf("[HEX]:")===0)i.val(l(t.substring(6).replace(/([0-9a-f]{1,2})/ig,"$1 ")));else{if(r=Shotgun.Js.Charsets.toUtf8Bytes(t),r==null||r.length==0){i.val("");return}for(t="",u=0;u<r.length;u++)t+=r[u].toString(16),t+=(u+1)%8==0?"\n":" ";i.val(t)}i.removeClass("red")}function et(n){var f=n.target,i=$(".tips"),r=i.children("textarea"),o=f.id,u,e,s;(t!==null&&(clearTimeout(t),t=null),u=$(f),e=u.offset(),i.css("top",e.top+u.outerHeight()+2),i.css("left",e.left),i.css("display",""),r.data("control")!==o)&&(r.data("control",o),r.removeClass("red"),s=u.val(),s!==""?$(f).trigger("keyup"):r.val(""))}function ot(){t!==null&&(clearTimeout(t),t=null)}function st(n){if(!$(n).hasClass("red")){var i=n.value.replace(/\s/g,"").length/2,r=$(n).data("control"),u=$("#"+r),t=parseInt(u.attr("maxlength"));if(t<i){Toast($Localizer.libGet("cryptography","Maximum length: {0}, exceeded {1}",t,i-t));return}c()}}function l(n,t){var f=/[0-9a-f]{1,2}/ig,r=null,i="",u=0;for(isNaN(t)&&(t=8);(r=f.exec(n))!==null;){u++;i+=r[0].length===1?"0"+r[0]:r[0];switch(u%t){case 0:i+="\n";break;case 8:i+="  ";break;default:i+=" "}}return i.toLowerCase()}function ht(){var i,n,t,r;window.hex_onchange=ut;window.hex_onblur=st;window.hex_onkeypress=rt;window.hex_onfocus=ot;i=document.createElement("div");i.className="tips";i.style.display="none";n=document.createElement("textarea");n.cols=25;n.rows=4;n.spellcheck=!1;t=new Function("hex_onfocus(this,null)");r=$(n);r.on("focus",new Function("hex_onfocus(this,null)"));t=new Function("hex_onblur(this, {});");r.on("blur",t);t=new Function("hex_onkeypress(this, {});");r.on("keypress ",t);t=new Function("hex_onchange(this, {});");r.on("change",t);n.placeholder=$Localizer.libGet("cryptography","HEX values [Editable]");i.appendChild(n);document.getElementsByTagName("body")[0].appendChild(i);h(document.getElementById("key"));h(document.getElementById("iv"))}function ct(n){var r=document.getElementsByName("keySize")[0],t=[],i,u;switch(n){case"aes":t.push([16,"128bits"],[24,"192bits"],[32,"256bits"]);break;case"tripledes":t.push([16,"Twice"],[24,"Triple"]);break;default:r.style.display="none";return}for(i=0;i<t.length;i++)u=new Option(t[i][1],t[i][0]),r.options.add(u);r.onchange(null)}function lt(){}function at(n,t){if(_keyInfo.type==0){Toast($Localizer.pubGet("'{0}' is empty or invalid",`${CRYPTO.toUpperCase()}-KEY`));$("[name=key]").trigger("focus");return}if(t.encrypt===!1&&(t.times=_keyInfo.size/8),_keyInfo.type&2)return f(n,t);if(_modeType==0&&!t.encrypt||_modeType==1&&t.encrypt)Toast($Localizer.libGet("cryptography","The feature is disabled because it requires a private key."));else return f(n,t)}function vt(n,t){if(_keyInfo.type==0){Toast($Localizer.pubGet("'{0}' is empty or invalid",`${CRYPTO.toUpperCase()}-KEY`));$("[name=key]").trigger("focus");return}return(t.encrypt===!1,t.encrypt&&_keyInfo.type&1||!t.encrypt&&_keyInfo.type&2)?f(n,t):(Toast($Localizer.pubGet('"{0}" is required',$Localizer.pubGet(t.encrypt?"Public Key":"Private Key"))),!1)}function a(){var n=$(".info").find(".btn"),i=$Localizer.libGet("cryptography","The feature is disabled because it requires a private key."),t;(n.tooltip("destroy"),_keyInfo.type&2)||(t=(_modeType+1)%2,$(n[t]).attr("title",i).tooltip("fixTitle").tooltip("show"))}function yt(n){var i=$(".info").find(".btn"),t=[$Localizer.pubGet("Public Key"),$Localizer.pubGet("Private Key")];_modeType=parseInt(n.value);_modeType==1&&t.reverse();i[0].value=String.format($Localizer.libGet("cryptography","Encrypt with {0}",t[0]));i[1].value=String.format($Localizer.libGet("cryptography","Decrypt with {0}",t[1]));a()}function v(n,t){const u=`${CRYPTO}-key`;var i=$(".keyInfo");i.text();_keyInfo.type=0;let r;try{r=pt(n.value.trim(),t.type)}catch(f){i.btsLabel(f.message,"info","info-sign");return}i.btsLabel($Localizer.pubGet("Parsing..."),"info","info-sign");$.ajax({method:"post",cache:!0,data:{key:r,type:t.type=="sm2"?1:2},dataType:"json",url:$(n).data("checkurl"),success:function(t){if((t===null||t===void 0?void 0:t.status)!=1){i.btsLabel($Localizer.pubGet('Invalid value for "{0}"',u),"warning","exclamation-sign");return}_keyInfo.type=t.keyType;_keyInfo.size=t.bitLength;var r=`${_keyInfo.size}bits,`;switch(t.keyType){case 3:r+=$Localizer.libGet("cryptography","Private Key(Include Public Key)");break;case 2:r+=$Localizer.pubGet("Private Key");break;case 1:r+=$Localizer.pubGet("Public Key");break;default:r+=$Localizer.pubGet("Unknow Type:{0}",t.keyType)}t.md5&&(r+=",".concat($Localizer.libGet("cryptography","KeyId"),": ",t.md5));t.formatted&&t.formatted!=n.value&&(n.value=t.formatted,r+=`,${$Localizer.pubGet("Formatted")}`);i.btsLabel(r,"label-success","ok-sign");a()}})}function pt(n,t){var r,u,o;if(String.isNullOrEmpty(n))throw new Error($Localizer.pubGet('"{0}" is required',`${t}-key`));let s=n.replace(/^(-|#).+$/mg,"");let i;const e=["base16","base64"];for(u=0;u<e.length;u++)try{r=Shotgun.Js.Encoding.Factory.getCharset(e[u]);i=r.getBytes(s);break}catch(h){}if(!i)throw new Error($Localizer.pubGet("Unrecognized data"));let f=i[0];if(o=r.name,t=="rsa"){if(f==48)return o=="base64"?n:Shotgun.Js.Encoding.Factory.getCharset("base64").getString(i);throw new Error($Localizer.libGet("cryptography","PEM key parse failed"));}if(r=Shotgun.Js.Encoding.Factory.getCharset("base16"),i.length<32)throw new Error($Localizer.libGet("cryptography","At least {0} bytes are required",32));if(i.length==32)return r.getString(i);if(i.length==33){switch(f){case 0:case 2:case 3:return r.getString(i)}throw new Error($Localizer.libGet("cryptography","{0}-byte key, the first byte must be {1}or{2}",33,"0x0,0x2","0x3"));}if(i.length==64)return r.getString(i);if(i.length==65){switch(f){case 4:case 6:case 7:return r.getString(i)}throw new Error($Localizer.libGet("cryptography","{0}-byte key, the first byte must be {1}or{2}",65,"0x4,0x6","0x7"));}if(f==48)return n;throw new Error($Localizer.libGet("cryptography","Only supports keys of length 32, 33, 64, and 65 bytes"));}var r,u,i,t;n.init_rsa=y;n.init_sm2=p;n.init_default=w;u=0;i=null;t=null})(t=n.Cryptography||(n.Cryptography={}))}(Page||(Page={})),function(n){var t;(function(n){let t;(function(n){function f(){window.bt_onclick=r;window.objToModel=u;var n=document.getElementById("tabs");tab_active(0,n);registerPageOnSize();t=CodeMirror(document.getElementById("output"),{mode:"application/json",lineNumbers:!0,lineWrapping:!0,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter","CodeMirror-lint-markers"]});Shotgun.Js.Communication.Html5PostMessage.takeWhatData({action:function(){t.setValue($("#output").val());const n=location.search.indexOf("model")==-1?"format":"tomodel";r(null,{cmd:n})},el:$("#output")})}function i(){var i,n,r;const u=document.getElementById("jsonFrm");if(i=t.getValue(),i=="")return Toast("什么都没有，什么都不做!"),null;n=null;r=document.getElementById("result");try{n=JSON.parse(i)}catch(f){}try{n==null&&(n=jsonlint.parse(i))}catch(f){return r.innerHTML=f,u.className="fail",Toast("Json 格式化失败！"),null}return u.className="pass",r.innerHTML="",n}function r(n,r){var o,f,e;if(r.cmd=="close"){$(".bgMask").click();return}if(r.cmd=="format"||r.cmd=="compress"){if(o=i(),o==null)return;t.setValue(JSON.stringify(o,null,r.cmd=="format"?2:0));return}if(r.cmd=="tomodel"){u();return}f=$("#model");e=!1;try{typeof clipboardData!="undefined"?e=clipboardData.setData("text",f.val().replace(/\n/g,"\r\n")):(f.select(),e=document.execCommand("copy"))}catch(r){}e?(f.select(),f.focus(),Toast("复制成功",null,"toast green")):(f.select(),f.focus(),Toast("剪切板操作失败！"))}function u(){var t=i(),r,u;if(t!=null){$(".bgMask").css("display","block");r=parseInt($("[name=rdLng]").val());let n;switch(r){case 1:n=new Shotgun.Js.ModelBuilder.JavaBuilder;break;case 2:n=new Shotgun.Js.ModelBuilder.TypeScriptBuilder;break;default:n=new Shotgun.Js.ModelBuilder.CSharpBuilder}n.isCamel=$("[name=chkCamel]")[0].checked;n.hasParseFun=$("[name=chkParse]")[0].checked;u=n.convert(t);$("#model").val(u)}}var t=null;n.init=f})(t=n.Json||(n.Json={}))})(t=n.Formatter||(n.Formatter={}))}(Page||(Page={})),function(n){let t;(function(n){function u(n){var u=$("[name=keyContext]")[0],t;if(u.value.length>10){r(n,null);return}if(t=n.keyFile,t.files===null||t.files.length!==1){alert($Localizer.libGet("keyConverter","Please select key-File to convert first"));return}i(t,function(t){t.length>0&&(u.value=t);r(n,null)})}function i(n,t){if(n.files===null||n.files.length!==1){alert($Localizer.libGet("keyConverter","Please select key-File to convert first"));return}var i=n.files[0],u=$(n).data("type")==="text",r=new FileReader;r.onloadend=function(r){var f=r.target.result,e;!i.msClose||i.msClose();u||(e=f.indexOf("base64,"),f=f.substring(e));t(f);n.value=""};u?r.readAsText(i):r.readAsDataURL(i)}function f(n){if(n.files!==null&&n.files.length===1){var t=n.value;i(n,function(n){if(n.length>0){var i=$("[name=keyContext]");i.val("----"+t+"----\n\n"+n);i.trigger("change");i.focus()}})}}function r(n){var t,i;$.ajax({url:"/Certificate/",method:"POST",dataType:"json",data:$(n).serialize(),success:e});try{var r=["Unknow","Pfx","Xml","Pem"],u=parseInt((t=n.inType)===null||t===void 0?void 0:t.value),f=parseInt((i=n.elements.outType)===null||i===void 0?void 0:i.value);Baidu===null||Baidu===void 0?void 0:Baidu.Tongji.eventTrack({category:"KeyConverter",action:r[u].concat("_to_",r[f])})}catch(o){console.error(o)}}function e(n){var r,i;if(n.status){alert(n.err);return}if(r=$(".result"),r.empty(),n.status!=0){t(r,$Localizer.pubGet("Error"),n.err);return}i=n.data;i.serial&&t(r,$Localizer.libGet("keyConverter","SerialNo"),i.serial);i.subject&&t(r,$Localizer.libGet("keyConverter","Subject"),i.subject);i.privateKey&&t(r,$Localizer.libGet("keyConverter","PrivateKey"),i.privateKey);i.publicKey&&t(r,$Localizer.libGet("keyConverter","PublicKey"),i.publicKey)}function t(n,t,i){var u=$("<div class='item'><\/div>"),r,f;n.append(u);u[0].ondblclick=new Function("item_ondblClick(this,null);");r=$(String.format("<div class='copy'>{0}<\/div>",$Localizer.libGet("keyConverter","Double - click to copy")));u.append(r);r=$("<label>"+t+":<\/label>");u.append(r);r=$("<div class='value'><\/div>");f=/<(.+?)>/g;r.html(i.replace(f,"<i>&lt;<\/i><em>$1<\/em><i>&gt;<\/i>"));u.append(r)}function o(n){var t=document.createElement("textarea");t.className="txtCopy";t.value=n;document.body.appendChild(t);t.select();t.setSelectionRange(0,t.value.length);document.execCommand("Copy");t.parentNode.removeChild(t)}function s(n){var t=$(n).find(".value");o(t.text())}function h(){var n=document.getElementById("tabs");tab_active(0,n);typeof FileReader=="undefined"&&(alert($Localizer.libGet("keyConverter","Your browser does not support 'FileReader'\nThis will make this tool unusable!")),$(":submit").attr("disabled","disabled"));Shotgun.Js.Communication.Html5PostMessage.takeWhatData({action:function(){$(".btn-success").click()},el:$("[name=keyContext]")})}function c(){window.page_onload=h;window.item_ondblClick=s;window.file_onchange=f;window.frm_onsubmit=u}n.init=c})(t=n.KeyConverter||(n.KeyConverter={}))}(Page||(Page={})),function(n){let t;(function(n){function s(){window.outmode_onclick=h;window.exec_onclick=u;window.doCopy=y;registerPageOnSize();window.opt=t;$(document).keydown(function(n){if(n.keyCode==116&&n.cancelable)return n.ctrlKey||n.altKey||n.shiftKey?void 0:(u(null,null),!1)})}function h(n,i){var r=n.parentNode;$(r).children("li").removeClass("actived");n.className="actived";t.replace=i==null}function u(){const n=f();if(n){const t=$Localizer.libGet("regular","Number of matches:{0}",n.count).concat("\n",n.result);document.getElementById("output").value=t}}function f(){var n=t.ignoreCase?"i":"",o,r,s,l;if(n+=t.multiline?"m":"",n+=t.singleline?"s":"",n+="g",o=i(),o){if(r=document.getElementById("src"),r.value==""){Toast($Localizer.libGet("regular","The text source cannot be empty!"));r.focus();return}try{s=new RegExp(o,n)}catch(y){Toast($Localizer.pubGet("Error").concat(":",y.message),8e3);return}var a=c(),u=null,v=r.value,f=0,h="";if(t.replace)h=v.replace(s,function(){return f++,e(arguments,a)});else for(l=-1;(u=s.exec(v))!=null;){if(l==u.index)break;if(l=u.index,h+=e(u,a),f++,f>65535)break}return{result:h,count:f}}}function e(n,i){return i===null||i.length==0?t.replace?"":n[0]+"\n":i.replace(r,function(){if(arguments[1]==="$")return arguments[1];var t=parseInt(arguments[1]);return t>n.length-1?arguments[0]:n[t]})}function c(){var u=document.getElementById("tpl").value,n,i,c,h,l;if(t.replace)return u;if(!/\S/.test(u))return null;for(var o=[],s=null,f=0,e=2147483647;null!=(s=r.exec(u));)s[1]!=="$"&&(n=parseInt(s[1]),o.indexOf(n)==-1)&&(o.push(n),f<n&&(f=n),e>n&&(e=n));return o.length==0?(Toast($Localizer.libGet("regular","The template does not contain a regular result set (e.g. $0, $1), This will not match the results."),8e3),null):(i=document.getElementById("exp").value,i==="")?null:(c=/\\\(/g,i=i.replace(c,""),i=i.replace(/[^\(]/g,""),h=i.length,e>h)?(l=$Localizer.libGet("regular","Template result set (${0}), greater than the result set! This will not match the results.",e),Toast(l,8e3),null):(f>h&&Toast($Localizer.libGet("regular","Found invalid result set: ${0}",f)),u)}function i(){const n=document.getElementById("exp"),t=n.value;if(!n.value){Toast($Localizer.libGet("regular","Regular expression cannot be empty!"));n.focus();return}return n.value}function l(){var i=o(),n;if(i)return n=[],i=i.replace("/","\\/"),t.ignoreCase&&n.push("i"),t.multiline&&n.push("m"),t.singleline&&n.push("s"),`/${i}/${n.join("")}g`}function a(){var n=i(),r;return n?(n=`new Regex(${JSON.stringify(n)}`,r=[],t.ignoreCase&&r.push("RegexOptions.IgnoreCase"),t.multiline&&r.push("RegexOptions.Multiline"),t.singleline&&r.push("RegexOptions.Singleline"),r.length&&(n=`${n}, ${r.join("|")}`),`${n});`):undefined}function o(){var n=i();return n?(n=JSON.stringify(n),n.substring(1,n.length-1)):undefined}function v(){var n;if((n=f())!==null&&n!==void 0)return n.result}function y(n){var r=n.attributes.getNamedItem("data-type"),t;switch(r.value){case"csharp":t=a;break;case"string":t=i;break;case"js":t=l;break;case"encode":t=o;break;case"result":t=v;break;default:console.error("未知类型:",r.value)}const u=t();u&&setClipboard(u)}var t={ignoreCase:!1,multiline:!1,replace:!1,singleline:!1},r=/\$(\$|\d{1,2})/g;n.init=s})(t=n.PageRegular||(n.PageRegular={}))}(Page||(Page={})),function(n){let t;(function(n){function f(){const n=new Date;t=document.getElementById("sec");document.getElementById("host").innerHTML=location.hostname;r=setInterval(function(){var u=new Date,i=1-(u.getTime()-n.getTime())/1e3;if(i>0){t.innerHTML=i.toFixed(2);return}(t.innerHTML="0",clearInterval(r),document.getElementById("cf-spinner-allow-5-secs").style.display="none",document.getElementById("cf-spinner-redirecting").style.display="",e(),document.cookie.indexOf("anti-robot=1")==-1)&&(document.cookie="anti-robot=1; path=/",location.reload())},10);document.getElementsByTagName("code")[0].innerHTML=u()}function e(){var t=u(),i=[location.pathname,t],r=i.join(","),n=Shotgun.Js.Charsets.toUtf8Bytes(r),f=Shotgun.Js.Encoding.Factory.getCharset("base64"),n=Shotgun.Js.Security.MD5.md5(n);document.cookie=`_rid=${f.getString(n)}; path=/`}function u(){var r=new RegExp(`(^|; )${i}=(.+?);`),n=r.exec(document.cookie),t;return n&&n.length?n[2]:(t=((new Date).getTime()/1e3).toString(),document.cookie=`${i}=${t}; path=/`,t)}const i="last_request";var r,t;n.init=f})(t=n.AntiRobot||(n.AntiRobot={}))}(Page||(Page={})),function(n){let t;(function(n){function e(){window.encode_onclick=o;window.decode_onclick=f;window.copy_onclick=h;i=ACTION;i=="base16"&&(Shotgun.Js.Encoding.Factory.registry(i,new r),$("[name=hexFormat]").removeClass("hidden"));Shotgun.Js.Encoding.PageFactory.fillSrc(ACTION,$("[name=srcType]")[0]);Shotgun.Js.Encoding.PageFactory.fillDst(ACTION,$("[name=outType]")[0]);$("[data-toggle='tooltip']").tooltip();registerPageOnSize();const n=document.getElementsByClassName("nav-tabs")[0];tab_active(0,n);Shotgun.Js.Communication.Html5PostMessage.takeWhatData({action:f,el:$("[name=source]")});const u=Shotgun.Js.Encoding.Factory.getCharset("array");Object.defineProperty(u.options,"width",{get:function(){return t.numChars||16}})}function u(n){var t=$(`[name=${n}]`).val(),i=Shotgun.Js.Encoding.Factory.getCharset(t);return i||Toast($Localizer.pubGet("Unknow Encoding:{0}",t)),i}function o(){var t=u("srcType"),n;t&&(n={source:t,dataSourceJQSelector:"[name=src]",dataOutputJQSelector:"#output",output:Shotgun.Js.Encoding.Factory.getCharset(i),outputFormatter:ACTION=="base16"?undefined:s},Shotgun.Js.Encoding.PageFactory.Transform(n))&&trackBack(ACTION,!0,$(n.dataSourceJQSelector).val())}function s(n){var i=t.numChars,r,f,u;if(!i||i<1||i>=n.length)return n;for(r=[],f=Math.floor(n.length/i),u=0;u<f;u++){const t=u*i;r.push(n.slice(t,t+i))}return n.length%i&&r.push(n.slice(f*i)),r.join("\n")}function f(){var t=u("outType"),n;if(t){const r=Shotgun.Js.Encoding.Factory.getCharset(i);(n={source:r,output:t,dataSourceJQSelector:"[name=src]",dataOutputJQSelector:"#output"},Shotgun.Js.Encoding.PageFactory.Transform(n))&&trackBack(ACTION,!1,$(n.dataOutputJQSelector).val())}}function h(){var t=$("#output"),n=t.val();if(String.isNullOrEmpty(n)){Toast($Localizer.pubGet("No Content!"));return}navigator.clipboard.writeText(n).then(()=>Toast($Localizer.pubGet("copied"))).catch(()=>Toast($Localizer.pubGet("fail")));Baidu===null||Baidu===void 0?void 0:Baidu.Tongji.eventTrack({action:"copy",category:ACTION,label:undefined})}var i,t={get numChars(){return parseInt($("[name=numChars]").val())},get arryType(){return parseInt($("[name=hexFormat]").val())}};class r extends Shotgun.Js.Encoding.Base16{constructor(){super(...arguments);this.options={head:!1,get width(){return t.numChars||(t.arryType==1?-1:16)},get spliter(){return[",",""," "][t.arryType]},get preChar(){return t.arryType==0?"0x":""},withAscii:!1,noEight:!0}}}n.HexEncoding=r;window.HexEncoding=r;n.init=e})(t=n.BaseN||(n.BaseN={}))}(Page||(Page={})),function(n){let t;(function(n){function d(){var n=$("[name=hashName]")[0].options;n.add(new Option("MD5","md5",!0));n.add(new Option("MD4","md4"));f="md5"}function g(){$("[name=hashName]").hide();f="sm3"}function nt(){var n=$("[name=hashName]")[0].options;n.add(new Option("Sha1","sha1",!0));n.add(u("Sha2",224));n.add(u("Sha2",256));n.add(u("Sha2",384));n.add(u("Sha2",512));n.add(u("Sha3",224));n.add(u("Sha3",256));n.add(u("Sha3",384));n.add(u("Sha3",512));f="sha1"}function u(n,t){var r=n.toLowerCase(),u=`${n}-${t}`,i=new Option(u,r),f=$(i);return f.data("bits",t),i}function tt(){var n;switch(CRYPTO){case"sm3":n=g;break;case"md5":n=d;break;case"sha":n=nt;break;default:alert(`"${CRYPTO}" ??`)}n&&(it(),n())}function it(){var n,t;typeof WebAssembly=="undefined"&&alert($Localizer.pubGet("Not support WebAssembly"));Shotgun.Wasm.WasmLoader.initBinary();$("#"+CRYPTO).addClass("active");n=$(".hash-from");n.find("#realCompute").prop("checked",r.realCompute).change(n=>{var t=n.target;r.realCompute=t.checked});n.find("[name=src]").keyup(()=>{r.realCompute&&p()});n.find("[name=hashName]").change(ft);n.find(".btn-success").click(()=>p(!0));n.find("#hashFile").change(n=>{var t=n.target;t.files.length!=0&&(v(t.files[0]),t.value=null)});e=$("#speedCnt");e.find("button").click(rt);o=e.find("i").get();s=e.find("progress")[0];s.max=1e3;r.srcCnt=n.find("[name=src]")[0];r.outCnt=n.find("#output")[0];Shotgun.Js.Encoding.PageFactory.fillSrc("hash",$("[name=srcType]")[0]);t=$(document.body);t.bind("dragenter",l).bind("dragover",l).bind("drop",ut);registerPageOnSize()}function rt(){i===null||i===void 0?void 0:i.cancel();b()}function l(n){var t=a(n.originalEvent);t!=null&&(t.dropEffect="link")}function a(n){var t=n.dataTransfer;return t.types.indexOf("Files")==-1?null:(n.stopPropagation(),n.preventDefault(),t)}function ut(n){var t=a(n.originalEvent),i;t!=null&&t.files.length>0&&(i=t.files[0],v(i))}function ft(n){var i=n.currentTarget,r;(f=i.value,t=null,i.selectedIndex!=-1)&&(r=i.selectedOptions[0],c=Number($(r).data("bits")))}function v(n){y();Baidu===null||Baidu===void 0?void 0:Baidu.Tongji.eventTrack({category:t.getName(),action:"file"});i||(i=new Shotgun.Js.FileProcessor,i.onRead=n=>{const i=new Uint8Array(n);t.update(i)},i.onFinal=n=>{var r=i.getElapsedTime(!0),t=`${$Localizer.pubGet("FileName")}:${n.name}, ${$Localizer.pubGet("Size")}:${Shotgun.Js.Library.byteSize(n.size)}Byte, ${$Localizer.pubGet("AverageSpeed")}:`;t+=`${Shotgun.Js.Library.byteSize(n.size*1e3/r,0)}Byte/S, `;t+=`${$Localizer.pubGet("Elapsed")}:${Shotgun.Js.Library.secondToTime(r,!0)}`;w(t);b()},i.onProcess=et);t.init();i.beginRead(n)}function y(){return t?!0:(t=Shotgun.Wasm.HashFactory.getInstance(f,c),t||alert($Localizer.pubGet("Unsupported algorithm:{0}",f)),!!t)}function p(n){var f,i;r.outCnt.value="";const u=r.srcCnt.getValue();if(!String.isNullOrEmpty(u)||n){y();n&&(Baidu===null||Baidu===void 0?void 0:Baidu.Tongji.eventTrack({category:t.getName(),action:"click"}));f=k("srcType");try{i=f.getBytes(u);i||(i=new Uint8Array(0));t.init();t.update(i);w()}catch(e){Toast(e.message)}}}function w(n){const f=t.final();var u=[],i=Shotgun.Js.Encoding.Factory.getCharset("hex").getString(f).replace(/ /g,"");u.push({key:"Hex",value:i});u.push({key:"Base64",value:Shotgun.Js.Encoding.Factory.getCharset("base64").getString(f)});u.push({key:"Base32",value:Shotgun.Js.Encoding.Factory.getCharset("base32").getString(f)});u.push({key:"Array",value:i.replace(/(..)/g,",0x$1").substring(1)});i=`--== ${t.getName().toUpperCase()} Hash Result ==--
`;i+=u.map(n=>`${n.key}: ${n.value}`).join("\n");String.isNullOrEmpty(n)||(i=`${n}
${i}`);r.outCnt.value=i}function et(n){if(!h){if(n.remaining<=1)return;h=!0;e.css("display","block")}o[0].innerHTML=`${Shotgun.Js.Library.byteSize(n.speed)}/S`;o[1].innerHTML=`${Shotgun.Js.Library.secondToTime(n.remaining)}`;s.value=n.permillage}function b(){h=!1;e.css("display","none")}function k(n){var t=$(`[name=${n}]`).val(),i=Shotgun.Js.Encoding.Factory.getCharset(t);return i||Toast($Localizer.pubGet("Unknow Encoding:{0}",t)),i}const r={realCompute:!0,srcCnt:null,outCnt:null};var f,c,i,t,e,o,s,h;n.initByName=tt})(t=n.Hasher||(n.Hasher={}))}(Page||(Page={})),function(n){let t;(function(n){function l(){window.frm_onsubmit=p;i.bar=$("#speedCnt");i.bar.find("button").on("click",v);i.barLine.max=1e3;registerPageOnSize();window.Worker||alert($Localizer.pubGet("Browser does not support {0}","Worker"))}function a(){const i=[s.toString(),o.toString(),e.toString(),h.toString(),`${e.name}()`].join("\n"),r=new TextEncoder,u=new Blob([r.encode(i)],{type:"text/javascript"}),n=URL.createObjectURL(u);return t=new Worker(n),URL.revokeObjectURL(n),t.onerror=function(n){alert(`在Worker 中发生未处理异常:${n.message}`);console.error("worker Error",n)},t.onmessage=w,t}function v(){t&&t.terminate();t=null;f()}function f(){i.barVisible=!1}function y(n){if(!i.barVisible){if(n.remaining<=1)return;i.barVisible=!0}i.barInfo[0].innerHTML=`${Shotgun.Js.Library.byteSize(n.speed)}/S`;i.barInfo[1].innerHTML=`${Shotgun.Js.Library.secondToTime(n.remaining)}`;i.barLine.value=n.permillage}function p(n){const h=n.src;u=h.value.split("\n").map((n,t)=>({num:Number(n),row:t}));const e=u.filter(n=>n.num),f=Number($(n.target).val()),o=Number($(n.min).val())||f,s=Number($(n.max).val())||f;var i;if(e.length<3?i=$Localizer.libGet("linearProgram","At least {0} numbers are required",3):e.length>53&&(i=$Localizer.libGet("linearProgram","Supports up to {0} digits numbers",53)),(isNaN(f)||!f)&&(i=$Localizer.libGet("linearProgram","Invalid number of targets")),i)return Toast(i);([f,o,s].some(n=>Number.isInteger(n)&&!Number.isSafeInteger(n))||e.some(n=>!Number.isInteger(n.num)))&&(i=$Localizer.libGet("linearProgram","JS accuracy"));i&&Toast(i);const c={cmd:0,arg:{items:e,target:f,targetMax:s,targetMin:o,numFields:"num",range:{startPoint:0,endPoint:0}}};t||a();r.start(e.length);t.postMessage(c)}function w(n){const t=n.data,o=t.currnetPoint==-1;o?(r.stop(),f()):(r.put(t.currnetPoint-t.lastPoint),y(r.getSpeed()));const i=n.data.result;if(i){const e=i.map((n,t)=>`${t+1},${n.sum}=${n.items.map(n=>n.num).join("+")}`);if(e.splice(0,0,`在${u.filter(n=>n.num).length}个有效数字中，找到${i.length}种组合方式：`),o){var h=r.getSpeed(),s=`总计算量：${r.total.toLocaleString()}个组合,耗时：${Shotgun.Js.Library.secondToTime(r.getElapsed())} `;e.splice(0,0,s)}$("#output").val(e.join("\n"))}}function e(){addEventListener("message",s)}function o(n){var c=[],o,s,y,u,i,f,t,e,p,k;const l=n.items,a=n.numFields,r=n.target;if(l.length>53)throw new Error("MaxNumbers");o=n.targetMin;s=n.targetMax;const v=n.range.startPoint||0,w=n.range.endPoint||Math.pow(2,l.length),d=w-v;if(d<1)return[];y=l.sort((n,t)=>n[a]-t[a]);const g=y.map(n=>Number(n[a]));typeof o=="undefined"&&(o=r);typeof s=="undefined"&&(s=r);const b=Math.max(s,r),nt=Math.min(o,r);for(u={currnetPoint:0},i=v;i<w;i++){for(f=0,t=i,(i&4194303)==0&&(u.lastPoint=u.currnetPoint,u.currnetPoint=i-v,u.result=c,h(u)),e=0;t>0;t>>=1,e++)if(t&1&&(f+=g[e],f>b))break;if(!(f>b)&&!(f<nt)){for(p={sum:f,items:[]},t=i,e=0;t>0;)k=t&1,k&&p.items.push(y[e]),t>>=1,e++;c.push(p)}}return c.sort((n,t)=>Math.abs(n.sum-r)-Math.abs(t.sum-r))}function s(n){const i=n.data.arg,t=o(i);console.warn("work done",t);const r={currnetPoint:-1,points:-1,lastPoint:-1,result:t};postMessage(r)}function h(n){postMessage(n)}var t,u=[];class c{constructor(){this._cInfo=[];this._maxCInfos=navigator.hardwareConcurrency*4}start(n){this._points=0;this._cInfo=[];this._finshAt=0;this.total=Math.pow(2,n);this._startAt=(new Date).getTime()}stop(){this._finshAt=(new Date).getTime()}put(n){this._cInfo.push({points:n,timestamp:(new Date).getTime()});this._cInfo.length>this._maxCInfos&&this._cInfo.shift();this._points+=n}getSpeed(){var n,t;if(!this._cInfo.length)return null;n=(new Date).getTime()-this._cInfo[0].timestamp;t=this._cInfo.map(n=>n.points).reduce((n,t)=>n+t);this._finshAt&&(n=this._finshAt-this._startAt,t=this._points);const i=Math.round(t*1e3/n),r=Math.round((this.total-this._points)/i);return{remaining:r,permillage:Math.round(this._points*1e3/this.total),speed:i,elapsed:0}}getElapsed(){const n=this._finshAt||(new Date).getTime();return console.warn(n,this._finshAt,(n-this._startAt)/1e3),Math.ceil((n-this._startAt)/1e3)}}const r=new c,i={bar:undefined,get barInfo(){return this.bar.find("i").get()},get barLine(){return this.bar.find("progress")[0]},get barVisible(){var t=this.bar,n=t.css("display");return n&&n!="none"},set barVisible(n){var t=this.bar;n?t.css("display","block"):t.css("display","")}};n.init=l})(t=n.LinearProgram||(n.LinearProgram={}))}(Page||(Page={})),function(n){let t;(function(n){function u(){_uriEncoding=new Shotgun.Js.Encoding.Uri;window.doit=r;Shotgun.Js.Encoding.Factory.settings={extrnEncoding:"utf8",smartEncoding:{textOnly:!0}};const n=$("#encoding")[0];n.options.length=0;n.options.add(new Option($Localizer.pubGet("Auto-detect"),"smart",!0));n.options.add(new Option("UTF-8","utf8"));n.options.add(new Option("GB2312/GBK","gbk"));cfg.encoding=n.value;registerPageOnSize();Shotgun.Js.Communication.Html5PostMessage.takeWhatData({action:function(){r(!1)},el:$("[name=source]")})}function r(n){var t=$("[name='source']").val(),i,u;if(String.isNullOrEmpty(t)){Toast($Localizer.pubGet("No Content!"));return}try{i=n?f:e;u=i(t);$("[name='output']").val(i(t));Baidu===null||Baidu===void 0?void 0:Baidu.Tongji.eventTrack({category:"uriEncoding",action:n?"ncode":"decode"})}catch(r){Toast(`${$Localizer.pubGet("Error")}:${r.message}`);console.error(r);Baidu===null||Baidu===void 0?void 0:Baidu.Tongji.eventTrack({category:"uriEncoding",action:"error",label:r.message})}}function f(n){var f,o,e;if(cfg.srcType==1)return t(n);const h=(cfg.dcOption&1)==1,c=(cfg.dcOption&2)==2;let i=n.split(h?"\n":"&"),s="",r;const u=/^\s*(\w+?:\/\/[^\=]*\?)([\s\S]*)$/.exec(i[0]);for(u&&(console.log(u),s=u[1],String.isNullOrEmpty(u[2])?i.shift():i[0]=u[2]),c&&i.sort(),f=[],r=0;r<i.length;r++)if(o=i[r].replace(/^\s{1,}/,""),!String.isNullOrEmpty(o)){if(e=o.indexOf("="),e==-1){f.push(t(i[r]));continue}f.push(t(i[r].substring(0,e))+"="+t(i[r].substring(e+1)))}return s+f.join("&")}function i(n){var t,i,r;if(t=Shotgun.Js.Encoding.Factory.getCharset(cfg.encoding),t==null)throw new Error($Localizer.pubGet("Unknow Encoding:{0}",cfg.encoding));return _uriEncoding.extrnEncoding=cfg.encoding=="smart"?Shotgun.Js.Encoding.Factory.getCharset("utf8"):t,i=_uriEncoding.getBytes(n),r=t.getString(i),r}function t(n){var t,i=cfg.encoding=="smart"?"utf8":cfg.encoding;if(t=Shotgun.Js.Encoding.Factory.getCharset(i),t==null)throw new Error($Localizer.pubGet("Unknow Encoding:{0}",t));const r=t.getBytes(n);return _uriEncoding.getString(r)}function e(n){var t,u,e,f,r;const o=(cfg.dcOption&1)==1,s=(cfg.dcOption&2)==2;if(!o)return i(n);if(t=[],u=null,cfg.srcType==0)for(e=/^(\w+?:\/\/.+?\?)(.+?)$/,f=e.exec(n),f!=null&&(u=f[1],n=f[2]),t=n.split(/&/g),r=0;r<t.length;r++)t[r]=i(t[r]);else n=i(n),t=n.split(/&/g);return s&&t.sort(),u==null?t.join("\n"):u+"\n"+t.join("\n")}n.init=u})(t=n.UriEncoding||(n.UriEncoding={}))}(Page||(Page={}));